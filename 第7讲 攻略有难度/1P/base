大家好，这里是FiveYellowMice给大家带来的小白也能学会的Galgame制作的第7讲。如果你是第一次看到这个系列的视频，建议你先从第0讲开始看，点一下UP主头像或者ID就可以找到了。不过即使你不看前面几讲，这一讲的内容也或许会对你有所帮助。那么这一讲我们来学习一下较为复杂的选项分支。
在人们开始写一篇小说的时候，一般都要制定一个故事大纲，里面有一些故事的主要走向，开始以及结局，还有人物、场景的设定，尤其是写长篇小说的时候。写一个Galgame脚本也一样，如果没有剧情大纲，写到哪想到哪，很难做出优秀的故事。而且一个Galgame的大纲通常要比一篇小说的大纲还要复杂的多，因为一篇小说肯定只有一条线路，读者不可能有决定故事中人物命运的机会，如果作者想要给故事一个好结局，读者就只能看到好结局，如果作者写的是坏结局，读者也只能看到坏结局。而Galgame通常主要的游戏性在于各种选项分支，这些选项有些可以直接改变故事的结局，有些会影响到某些数值而间接影响到游戏的结局，比如可攻略角色的好感度，或者你也可以放一些无关紧要的选项来为难玩家。所以如果你决定做一个选项分支比较复杂的游戏，除了要写人物设定和多条剧情走向以外，画一个流程图来表示各种分支是很有必要的。
……
比如，最简单的一种分支类型，一次选项，两条结局。如果玩家选择A，那么就会到达结局A，如果玩家选择B，则会到达结局B。我们上一讲所讲的中的示例就是这样的分支结构。
我们还可以做的更加复杂一些，比如再加上一个第三个选项以及结局C，或者是在其中的一条分支上再做一个分支，当然我们也可以分支再分支再分支再分支再分支。你也可以加上更多分支，把它变得更复杂。这样的一个结构，可以叫做树形分支。
不过呢，我想我的观众是不会满足于这种分支的，因为它太简单粗暴了，依靠上一讲的知识，只要再多花一点时间，就可以做出来。所以我们也可以放上这样的一种分支……它在分出去之后，又会合并到原来的主线上，而在支线之中可能可以是一些无关紧要的剧情，比如福利之类的。支线里面也可以是一些另以后剧情改变的内容，比如说我可以这样……先让玩家选择一次选项来决定是进入事件A还是呆在主线上，而后面一次分支就不是让玩家选择一次选项了，是让电脑进行一次判定，如果玩家经历过事件A，则会进入结局A，否则进入结局B。
像这种分出去又回来的分支，可以叫做并联分支。大部分的日常向Galgame一般是使用一条主线，经历多次并联分支以后再在最后通过判定把玩家引向不同的结局。
同样举个例子，假如我们要做的这个游戏中有三个可攻略角色，一个角色对应一个结局，那么我们就可以为每个角色设计两个并联分支，让玩家通过选项决定是否进入，这些分支会让某个角色的好感度+1。而在最后，电脑会分析各个角色的好感度，在角色A好感度达到2的时候，进入角色A的结局，在角色B达到好感度2的时候，进入B的结局，C的好感度到2的时候进入C的结局。
不过这样的设计也可能会产生问题，因为玩家可能没有另3个可攻略角色中的任意一个的好感度达到2，解决这个问题的方法可以是再添加一个和平结局，就是任何一个角色的好感度都没达到2时所进入的结局。同时，玩家也有可能使不止一个的角色的好感度达到2，解决这个问题的方法可以是设定一个优先顺序，比如如果角色A和B的好感度都达到了2，那么就优先选择A的结局，比较直观的示意图像这样……在这种情况下，如果角色A的好感度已经达到了2，那么不论B、C如何，都会达到A的结局。
有时候，我们会采取这样的并联分支，无论选哪个选项，都会有角色的好感度增加，这种方法也被用来避免没有角色好感读达标的尴尬状况。
事实上，一个Galgame的分支流程图可以很复杂，可以有各种各样复杂的分支，树形之上再树形，并联之后再并联，不过仔细分解下来，再复杂的流程图也不过是一些树形分支和并联分支的组合。而我们在制作自己的游戏的时候，就需要思考很多问题，仔细规划流程图安排，以及你所设计的流程图是否适合你的剧情需要等等。
好吧也许听了这么多你已经头晕了，那我就不再继续深入讲什么循环、附加剧情还有彩蛋之类的了。不过俗话说得好，实践出真知。所在2P中，我们将补全上一讲的示例里面“未完待续”的内容，我们会采用这样的一条流程图……简单地实践一下刚才学到的理论知识。
