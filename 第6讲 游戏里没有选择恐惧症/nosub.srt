1
00:00:57,645 --> 00:00:58,216
大家好

2
00:00:58,316 --> 00:01:01,908
这里是FiveYellowMice给大家带来的
小白也能学会的Galgame制作的第6讲

3
00:01:02,630 --> 00:01:04,261
如果你是第一次看到这个系列的视频

4
00:01:04,261 --> 00:01:05,646
建议你先从第0讲开始看

5
00:01:05,727 --> 00:01:07,550
点一下UP主头像或者ID就可以找到了

6
00:01:07,666 --> 00:01:08,424
那么这一讲

7
00:01:08,424 --> 00:01:10,044
我们来学习简单的选项分支

8
00:01:10,473 --> 00:01:12,273
首先新建一个目录来放我们的游戏

9
00:01:16,765 --> 00:01:20,801
然后把素材中的图片、音乐和0.txt都复制过来

10
00:01:25,024 --> 00:01:27,699
脚本里面的内容跟第4讲中提供的是基本一样的
（不是完全一样的）

11
00:01:28,021 --> 00:01:29,965
这样可以免去大家从零开始写脚本的麻烦

12
00:01:30,164 --> 00:01:33,489
然后像往常一样把主程序跟default.ttf复制进去

13
00:01:34,033 --> 00:01:37,529
这样我们就可以获得一个
跟第4讲开头所展示的一样的游戏了

14
00:01:38,003 --> 00:01:39,644
当然了 这只是第4讲的水平

15
00:01:40,036 --> 00:01:41,887
我们现在就要把它变成第6讲的水平

16
00:01:41,915 --> 00:01:45,904
这其中的区别就在于
“所以我决定了”这句话之后的内容

17
00:01:46,420 --> 00:01:47,033
我们可以看到

18
00:01:47,209 --> 00:01:49,002
在“所以我决定了”之后

19
00:01:49,102 --> 00:01:50,177
出现了一个选项分支

20
00:01:50,277 --> 00:01:52,905
分别是“立即去问她”以及“以后在问吧”

21
00:01:53,202 --> 00:01:54,272
如果我选择前者

22
00:01:54,272 --> 00:01:55,298
故事就会继续

23
00:01:56,233 --> 00:01:57,157
如果我选择后者

24
00:01:57,316 --> 00:01:58,709
就会直接到达Bad Ending

25
00:02:00,469 --> 00:02:01,554
这是怎么做到的呢？

26
00:02:01,958 --> 00:02:03,511
首先我们要使用select命令

27
00:02:03,611 --> 00:02:06,937
这条命令可以让ONScripter
在文字框内让玩家选择选项

28
00:02:07,037 --> 00:02:10,375
select命令的参数个数是由选项的个数决定的

29
00:02:10,475 --> 00:02:11,730
我这里要写2个选项

30
00:02:11,830 --> 00:02:12,418
就是4个参数

31
00:02:12,518 --> 00:02:13,829
如果我要写3个选项

32
00:02:13,929 --> 00:02:14,616
就是6个参数

33
00:02:14,716 --> 00:02:16,413
以此类推 4个选项就是8个参数

34
00:02:16,809 --> 00:02:17,635
不过注意

35
00:02:17,735 --> 00:02:19,895
选项的个数受到文字框高度的限制

36
00:02:19,995 --> 00:02:21,936
比如我这里的文字框最多只有3行

37
00:02:22,036 --> 00:02:23,575
那么我的选项也最多是3个

38
00:02:23,675 --> 00:02:25,959
如果我选项太多了文字框显示不下了

39
00:02:26,059 --> 00:02:27,957
那么超出限制的部分会显示不出来

40
00:02:28,047 --> 00:02:29,775
或者干脆发生错误游戏崩溃

41
00:02:29,981 --> 00:02:30,965
我这里有2个选项

42
00:02:31,065 --> 00:02:32,995
那么我就先写上第一个选项的名字

43
00:02:33,408 --> 00:02:35,350
之前说过了 是“立即去问她”

44
00:02:39,774 --> 00:02:40,832
那么我在这里就这么写

45
00:02:41,097 --> 00:02:43,219
记得用半角双引号把这段文字包起来

46
00:02:43,319 --> 00:02:44,551
然后再半角逗号

47
00:02:45,166 --> 00:02:46,886
再写上玩家选择这个选项之后

48
00:02:46,886 --> 00:02:48,347
要跳转到的标签的名字

49
00:02:48,653 --> 00:02:50,878
标签名一般是由一个半角星号开头的

50
00:02:50,978 --> 00:02:52,940
后面是我给这个标签取的名字

51
00:02:53,375 --> 00:02:56,069
这个名字必须是半角字母或者数字

52
00:02:56,169 --> 00:02:57,710
且不能以数字开头

53
00:02:58,680 --> 00:03:00,953
那么我这里因为选项叫做“立即去问她”

54
00:03:00,953 --> 00:03:03,148
我就给这个标签取名叫rightaway

55
00:03:06,100 --> 00:03:07,377
注意前面的星号不能忘

56
00:03:07,477 --> 00:03:08,954
然后再一个半角逗号

57
00:03:08,954 --> 00:03:10,305
写上第二个选项

58
00:03:10,405 --> 00:03:12,355
就是“以后再问吧”

59
00:03:18,357 --> 00:03:19,742
还是要用半角双引号包起来

60
00:03:19,842 --> 00:03:20,972
然后再半角逗号

61
00:03:21,072 --> 00:03:22,924
再写上第二个选项之后

62
00:03:23,024 --> 00:03:24,388
要跳转到的标签

63
00:03:24,488 --> 00:03:25,966
我就取名为later好了

64
00:03:29,821 --> 00:03:31,356
然后再运行游戏

65
00:03:32,864 --> 00:03:34,327
就会显示一个选项分支了

66
00:03:34,427 --> 00:03:35,820
不过我现在后面还没有内容

67
00:03:35,820 --> 00:03:37,405
所以不管选哪个选项都是没有用的

68
00:03:38,858 --> 00:03:41,400
我现在在后面写“立即去问她”这个分支的内容

69
00:03:41,963 --> 00:03:42,771
显示立绘

70
00:03:42,771 --> 00:03:44,000
然后是几句话

71
00:03:44,000 --> 00:03:45,407
然后是切换背景

72
00:03:45,407 --> 00:03:46,469
然后是几句话

73
00:03:46,569 --> 00:03:47,497
然后立绘

74
00:03:47,497 --> 00:03:49,055
再是几句话……

75
00:03:51,038 --> 00:03:51,933
最后背景变黑

76
00:03:51,933 --> 00:03:52,745
未完待续

77
00:03:52,745 --> 00:03:54,167
end命令来结束游戏

78
00:03:54,633 --> 00:03:57,577
这样“立即去问她”分支的内容就写完了

79
00:03:57,577 --> 00:03:59,753
我们再写“以后再问吧”分支的内容

80
00:03:59,753 --> 00:04:00,721
也就是Bad Ending

81
00:04:03,497 --> 00:04:04,675
这样完了之后呢

82
00:04:04,775 --> 00:04:05,553
我们要加上标签

83
00:04:05,868 --> 00:04:07,545
我们之前在select命令中指定了

84
00:04:07,573 --> 00:04:10,167
要在选择“立即去问她”之后跳转到rightaway标签

85
00:04:10,506 --> 00:04:12,248
不过游戏中还没有rightaway这个标签呢

86
00:04:12,248 --> 00:04:13,085
这样是不行的

87
00:04:13,185 --> 00:04:16,257
所以我们就在我们想要让它跳转到的
内容的前面加上个标签

88
00:04:17,659 --> 00:04:18,304
星号

89
00:04:19,687 --> 00:04:20,638
rightaway

90
00:04:24,459 --> 00:04:28,051
同样的 我们在另一条分支的前面加上星号 later

91
00:04:29,997 --> 00:04:31,572
保存 再运行游戏

92
00:04:31,672 --> 00:04:33,763
那么在我们选择立即去问她的时候

93
00:04:33,763 --> 00:04:35,806
他就会跳转到*rightaway这个标签所在的地方

94
00:04:36,113 --> 00:04:37,346
然后再执行下面的命令

95
00:04:37,458 --> 00:04:39,677
同样的 如果我们选择以后再问的话

96
00:04:39,677 --> 00:04:43,140
它就会跳转到*later这个标签所在的地方
再往下执行它的命令

97
00:04:43,240 --> 00:04:43,887
不过注意

98
00:04:43,987 --> 00:04:45,802
标签只是一个位置的标记

99
00:04:45,902 --> 00:04:46,710
不影响其他的内容

100
00:04:46,810 --> 00:04:48,250
也就是说 如果在游戏执行的时候

101
00:04:48,250 --> 00:04:49,146
碰到了一个标签

102
00:04:49,512 --> 00:04:51,927
它也不管这个标签在其他地方被用作何种用途

103
00:04:51,927 --> 00:04:52,958
还是继续往下执行

104
00:04:53,283 --> 00:04:55,770
比如如果我把select命令给删掉的话

105
00:04:56,197 --> 00:04:58,398
那么它就会继续往下执行后面的内容

106
00:04:59,943 --> 00:05:00,995
如果你认真学习了

107
00:05:00,995 --> 00:05:03,901
你可能会发现我们在第0讲就已经讲过有关标签的东西

108
00:05:04,001 --> 00:05:04,956
*define跟*start

109
00:05:05,056 --> 00:05:06,211
其实这两个也是标签

110
00:05:06,211 --> 00:05:07,176
只是它们比较特殊

111
00:05:07,502 --> 00:05:10,072
*define是ONScripter在初始化时读取的定义部分

112
00:05:10,259 --> 00:05:12,685
然后跳转到*start标签开始执行游戏的内容

113
00:05:12,722 --> 00:05:14,104
接下来我们来学习右键菜单

114
00:05:14,487 --> 00:05:20,920
一个完整的Galgame肯定是有一些像存档、读档、
自动、快进、隐藏文字框、回想、
重置、退出这样的功能的

115
00:05:21,173 --> 00:05:22,881
ONScripter使这些东西变得很简单

116
00:05:22,881 --> 00:05:23,986
我们可以使用rmenu命令

117
00:05:24,086 --> 00:05:25,383
写在define区里面

118
00:05:26,263 --> 00:05:28,185
它的参数个数是菜单项个数的两倍

119
00:05:28,601 --> 00:05:30,511
第一个参数就是第一个菜单项的名字

120
00:05:30,964 --> 00:05:32,203
用半角双引号包起来

121
00:05:32,512 --> 00:05:34,057
我在这里写上“保存”

122
00:05:36,855 --> 00:05:38,596
然后逗号 save

123
00:05:38,696 --> 00:05:41,834
表示这个菜单项是打开存档界面

124
00:05:42,218 --> 00:05:43,174
然后再逗号

125
00:05:43,555 --> 00:05:45,503
然后是第二个菜单项的名字

126
00:05:45,834 --> 00:05:47,929
我写“读取”

127
00:05:50,183 --> 00:05:52,130
再逗号 load

128
00:05:52,449 --> 00:05:55,251
代表是打开读档界面

129
00:05:55,720 --> 00:05:56,611
之后也一样

130
00:05:56,611 --> 00:05:57,865
automode是自动

131
00:05:57,865 --> 00:05:59,915
skip是快进到下一个选项为止

132
00:06:00,015 --> 00:06:01,805
windowerase是隐藏文字框

133
00:06:01,905 --> 00:06:03,451
lookback是回想模式

134
00:06:03,551 --> 00:06:04,603
reset是重置

135
00:06:04,703 --> 00:06:05,905
end是退出
（又是口误了）

136
00:06:06,363 --> 00:06:06,990
遗憾的是

137
00:06:06,990 --> 00:06:08,250
它好像只有这些功能

138
00:06:08,350 --> 00:06:10,063
不能够自定义自己想要的菜单项

139
00:06:10,528 --> 00:06:13,576
然后保存 再运行游戏

140
00:06:14,733 --> 00:06:16,226
就可以使用右键菜单了

141
00:06:16,458 --> 00:06:18,795
我们可以保存 第一个存档位 是

142
00:06:19,057 --> 00:06:20,928
就会保存游戏存档

143
00:06:21,318 --> 00:06:25,725
我后我们会发现在游戏根目录下
生成了个叫save1.dat的文件

144
00:06:26,150 --> 00:06:27,117
它就是我们的游戏存档

145
00:06:27,538 --> 00:06:29,118
然后我们也可以读档

146
00:06:32,529 --> 00:06:34,184
然后是自动

147
00:06:37,364 --> 00:06:38,719
然后是跳过

148
00:06:39,907 --> 00:06:41,738
还有隐藏文字框

149
00:06:44,127 --> 00:06:45,565
还有回想模式

150
00:06:45,665 --> 00:06:47,884
就会显示之前显示过的文字

151
00:06:48,387 --> 00:06:50,039
用鼠标滚轮来翻页

152
00:06:51,762 --> 00:06:56,146
同样的 在正常情况下也可以
鼠标滚轮往上滚来进入回想模式

153
00:06:56,544 --> 00:06:58,318
然后是重置

154
00:07:00,465 --> 00:07:01,320
退出

155
00:07:02,019 --> 00:07:03,353
我知道大家早就想说了

156
00:07:03,353 --> 00:07:04,379
这个菜单太简陋了

157
00:07:04,379 --> 00:07:05,097
确实如此

158
00:07:05,197 --> 00:07:06,484
不过这样做十分的方便

159
00:07:06,584 --> 00:07:09,716
在以后我们也会学到大家想象中的 较为华丽的菜单

160
00:07:09,816 --> 00:07:11,653
或者直接在文字框上显示功能按钮

161
00:07:11,753 --> 00:07:13,018
这些都会在以后学到

162
00:07:13,537 --> 00:07:14,444
那么这一讲就到这里

163
00:07:14,544 --> 00:07:17,005
素材的下载都可以在视频介绍中的链接里找到

164
00:07:17,105 --> 00:07:19,376
下一讲我们来学习更为复杂的选项分支

165
00:07:19,476 --> 00:07:20,774
至于标题画面什么的

166
00:07:20,774 --> 00:07:21,520
就得延后了啊

167
00:07:22,436 --> 00:07:23,535
感谢大家的支持

168
00:07:23,635 --> 00:07:25,923
喜欢我的视频就给个硬币并推荐给朋友吧

169
00:07:26,023 --> 00:07:29,880
觉得我的视频做的不够好也可以
给我发电子邮件提出你的意见或建议

170
00:07:30,172 --> 00:07:31,508
那么我们下期再见！

